import{Dc as u,Ec as _,Fa as g,Fc as F,Hb as S,Ja as y,Jc as T,Kb as P,Qa as E,Ua as a,Va as i,Xa as O,Z as f,Za as d,_ as x,_a as D,dc as k,ec as A,ib as o,jb as v,kb as s,ua as r,za as m}from"./chunk-OV2DJR54.js";var C=class l{constructor(t,e){this.dialogRef=t;this.data=e}closeDialog(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||l)(m(u),m(_))};static \u0275cmp=g({type:l,selectors:[["app-movie-detail-dialog"]],decls:18,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"]],template:function(e,n){e&1&&(a(0,"h2",0),o(1),i(),a(2,"div",1)(3,"p")(4,"strong"),o(5,"Description:"),i(),o(6),i(),a(7,"p")(8,"strong"),o(9,"Genre:"),i(),o(10),i(),a(11,"p")(12,"strong"),o(13,"Director:"),i(),o(14),i()(),a(15,"div",2)(16,"button",3),d("click",function(){return n.closeDialog()}),o(17,"Close"),i()()),e&2&&(r(),v(n.data.title),r(5),s(" ",n.data.description,""),r(4),s(" ",n.data.genre.name||n.data.genre,""),r(4),s(" ",n.data.director.name||n.data.director,""))},styles:["mat-dialog-content[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column;gap:20px}mat-dialog-actions[_ngcontent-%COMP%]{padding:10px}mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}@media (max-width: 768px){mat-dialog-content[_ngcontent-%COMP%]{padding:15px;width:90%}}@media (max-width: 480px){mat-dialog-content[_ngcontent-%COMP%]{padding:10px;width:95%}}h1.mat-dialog-title[_ngcontent-%COMP%]{margin-bottom:20px;font-size:1.8em}mat-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;font-size:1.1em;line-height:1.5}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;margin-top:10px;padding:10px 20px}"]})};var h=class l{constructor(t,e){this.dialogRef=t;this.data=e}closeDialog(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||l)(m(u),m(_))};static \u0275cmp=g({type:l,selectors:[["app-genre-detail-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"]],template:function(e,n){e&1&&(a(0,"h2",0),o(1),i(),a(2,"div",1)(3,"p")(4,"strong"),o(5,"Description:"),i(),o(6),i()(),a(7,"div",2)(8,"button",3),d("click",function(){return n.closeDialog()}),o(9,"Close"),i()()),e&2&&(r(),v(n.data.name),r(5),s(" ",n.data.description,""))},encapsulation:2})};var b=class l{constructor(t,e){this.dialogRef=t;this.data=e}closeDialog(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||l)(m(u),m(_))};static \u0275cmp=g({type:l,selectors:[["app-director-detail-dialog"]],decls:18,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"]],template:function(e,n){e&1&&(a(0,"h2",0),o(1),i(),a(2,"div",1)(3,"p")(4,"strong"),o(5,"Bio:"),i(),o(6),i(),a(7,"p")(8,"strong"),o(9,"Birth Year:"),i(),o(10),i(),a(11,"p")(12,"strong"),o(13,"Death Year:"),i(),o(14),i()(),a(15,"div",2)(16,"button",3),d("click",function(){return n.closeDialog()}),o(17,"Close"),i()()),e&2&&(r(),v(n.data.name),r(5),s(" ",n.data.bio,""),r(4),s(" ",n.data.birth||"N/A",""),r(4),s(" ",n.data.death||"N/A",""))},encapsulation:2})};function G(l,t){if(l&1){let e=O();a(0,"div",2)(1,"h3"),o(2),i(),a(3,"div",3)(4,"button",4),d("click",function(){let c=f(e).$implicit,p=D();return x(p.openMovieDetailDialog(c))}),o(5,"Details"),i(),a(6,"button",4),d("click",function(){let c=f(e).$implicit,p=D();return x(p.viewGenre(c))}),o(7,"Genre"),i(),a(8,"button",4),d("click",function(){let c=f(e).$implicit,p=D();return x(p.viewDirector(c))}),o(9,"Director"),i(),a(10,"button",4),d("click",function(){let c=f(e).$implicit,p=D();return x(p.addToFavorite(c))}),o(11," Add to Favorites "),i(),a(12,"button",4),d("click",function(){let c=f(e).$implicit,p=D();return x(p.removeFromFavorite(c))}),o(13," Remove from Favorites "),i()()()}if(l&2){let e=t.$implicit;r(2),v(e.title)}}var R=class l{constructor(t,e){this.dialog=t;this.fetchApiDataService=e}movies=[];ngOnInit(){this.fetchApiDataService.getAllMovies().subscribe({next:t=>{this.movies=t,console.log("Fetched movies:",t)},error:t=>{console.error("Error fetching movies:",t)}})}openMovieDetailDialog(t){this.dialog.open(C,{data:t,width:"600px",height:"auto"}).afterClosed().subscribe(n=>{console.log("Movie detail dialog was closed")})}viewGenre(t){this.dialog.open(h,{data:{name:t.genre.name||t.genre,description:t.genre.description||"No description available"},width:"400px"})}viewDirector(t){let e=t.director;this.dialog.open(b,{data:{name:e.name,bio:e.bio,birth:e.birth,death:e.death},width:"400px"})}addToFavorite(t){this.fetchApiDataService.addFavoriteMovie(t._id).subscribe({next:e=>{alert(`${t.title} has been added to favorites!`)},error:e=>{console.error("Error adding to favorites:",e),alert("There was an error adding the movie to favorites.")}})}removeFromFavorite(t){this.fetchApiDataService.removeFavoriteMovie(t._id).subscribe({next:e=>{alert(`${t.title} has been removed from favorites!`)},error:e=>{console.error("Error removing from favorites:",e),alert("There was an error removing the movie from favorites.")}})}static \u0275fac=function(e){return new(e||l)(m(F),m(A))};static \u0275cmp=g({type:l,selectors:[["app-movie-card"]],decls:2,vars:1,consts:[[1,"movie-card-container"],["class","movie-card",4,"ngFor","ngForOf"],[1,"movie-card"],[1,"button-container"],["mat-button","",3,"click"]],template:function(e,n){e&1&&(a(0,"div",0),y(1,G,14,1,"div",1),i()),e&2&&(r(),E("ngForOf",n.movies))},dependencies:[T,k,P,S],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}.movie-card-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;gap:20px;padding:20px;min-height:100vh;width:100%;height:100vh;box-sizing:border-box}.movie-card-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#f0f8ff;border-radius:8px;box-shadow:0 4px 8px #0000001a;padding:20px;margin:10px;transition:transform .3s ease,box-shadow .3s ease;width:250px}.movie-card-container[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 8px 16px #00000026}.movie-card-title[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;color:#333;margin-bottom:10px}.movie-card-details[_ngcontent-%COMP%]{font-size:1.1em;color:#555;margin-bottom:15px}button[_ngcontent-%COMP%]{margin-top:10px;margin-right:5px;background-color:#3b8ea5;color:#fff}button[_ngcontent-%COMP%]:hover{background-color:#276d7c}@media (max-width: 768px){.movie-card-container[_ngcontent-%COMP%]{width:200px}}@media (max-width: 480px){.movie-card-container[_ngcontent-%COMP%]{width:150px}}"]})};export{R as MovieCardComponent};
